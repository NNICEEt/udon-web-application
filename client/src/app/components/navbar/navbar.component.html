<nav>
  <a routerLink="" routerLinkActive="active"
    ><img [src]="imgUrl" (error)="(doSomethingOnError)" height="60"
  /></a>

  <div class="search-section">
    <div class="search-bar">
      <fa-icon class="faSearch" [icon]="faSearch"></fa-icon>
      <input type="text" placeholder="ค้นหา" />
    </div>
    <button mat-flat-button class="search-btn" color="accent">ค้นหา</button>
  </div>

  <div class="button">
    <div class="auth-button" *ngIf="!islogin">
      <button
        mat-stroked-button
        class="btn login"
        (click)="openLogin()"
        color="primary"
      >
        เข้าสู่ระบบ
      </button>
      <button
        mat-stroked-button
        class="btn signup"
        (click)="openSignup()"
        color="warn"
      >
        ลงทะเบียน
      </button>
    </div>

    <div class="auth-button" *ngIf="islogin">
      <button mat-flat-button class="btn menu"
      color="accent" [matMenuTriggerFor]="menu"><fa-icon class="faBars" [icon]="faBars"></fa-icon> เมนู</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item routerLink="/edit-profile" routerLinkActive="active">แก้ไขโปรไฟล์</button>
        <button mat-menu-item>ออกจากระบบ</button>
      </mat-menu>
    </div>

    <button
      mat-flat-button
      class="btn cart"
      color="primary"
      matBadge="1"
      matBadgePosition="after"
      matBadgeColor="accent"
    
      routerLink="/cart" routerLinkActive="active"
    >
      <fa-icon class="faShoppingCart" [icon]="faShoppingCart"></fa-icon>
      ตะกร้า
    </button>
  </div>
</nav>
<div class="login-dialog" *ngIf="loginDialogIsOpen">
  <div class="container">
    <img class="img" src="../../../assets/images/logo.png" alt="" width="120">
    <div class="form">
      <td>
      <mat-form-field name="username" appearance="fill">
        <mat-label>ชื่อผู้ใช้</mat-label>
        <input matInput type="text" [formControl]="form" [(ngModel)]="username" />
        <mat-error *ngIf="form.invalid">{{ getErrorMessage() }}</mat-error>
      </mat-form-field>
    </td>
      <mat-form-field name="password" appearance="fill">
        <mat-label>รหัสผ่าน</mat-label>
        <input matInput type="password" [formControl]="form" [(ngModel)]="password" />
        <mat-error *ngIf="form.invalid">{{ getErrorMessage() }}</mat-error>
      </mat-form-field>
    </div>
    <mat-divider></mat-divider>
    <div class="btn-group">
      <button mat-flat-button color="primary" class="btn login" [disabled]="form.invalid" (click)="pressLogin()">เข้าสู่ระบบ</button>
      <button mat-flat-button color="warn" class="btn cancel" (click)="pressCancel()">ยกเลิก</button>
    </div>
  </div>
</div>
<div class="signup-dialog" *ngIf="signupDialogIsOpen">
  <div class="container">
    <img class="img" src="../../../assets/images/logo.png" alt="" width="120">
    <div class="form">
        <tr>
          <mat-form-field class="username" appearance="fill">
            <mat-label>อีเมล</mat-label>
            <input matInput [formControl]="form" [(ngModel)]="username" required />
            <mat-error *ngIf="form.invalid">{{getErrorMessage()}}</mat-error>
          </mat-form-field>
        </tr>
        <tr>
          <mat-form-field name="password" appearance="fill">
            <mat-label>รหัสผ่าน</mat-label>
            <input matInput type="password" [formControl]="form"/>
            <mat-error *ngIf="form.invalid">{{ getErrorMessage() }}</mat-error>
          </mat-form-field>
        </tr>
        <tr>
          <mat-form-field name="confirm_password" appearance="fill">
            <mat-label>ยืนยันรหัสผ่าน</mat-label>
            <input matInput type="password" [formControl]="form" [(ngModel)]="confirm_password" />
            <mat-error *ngIf="form.invalid">{{ getErrorMessage() }}</mat-error>
          </mat-form-field>
        </tr>
        <tr>
          <mat-form-field name="fName" appearance="fill">
            <mat-label>ชื่อจริง</mat-label>
            <input matInput type="text" [formControl]="form" [(ngModel)]="fName" />
            <mat-error *ngIf="form.invalid">{{ getErrorMessage() }}</mat-error>
          </mat-form-field>
        </tr>
        <tr>
          <mat-form-field name="lName" appearance="fill">
            <mat-label>นามสกุล</mat-label>
            <input matInput type="text" [formControl]="form" [(ngModel)]="lName" />
            <mat-error *ngIf="form.invalid">{{ getErrorMessage() }}</mat-error>
          </mat-form-field>
        </tr>
        <tr>
          <mat-form-field name="datebirth" appearance="fill">
            <mat-label>วัน/เดือน/ปีเกิด</mat-label>
            <input matInput type="text" [formControl]="form" placeholder="yyyy-MM-dd" maxlength="10" [(ngModel)]="datebirth" />
            <mat-error *ngIf="form.invalid">{{ getErrorMessage() }}</mat-error>
          </mat-form-field>
        </tr>
        <tr>
          <mat-form-field name="email" appearance="fill">
            <mat-label>อีเมลล์</mat-label>
            <input matInput type="text" [formControl]="formEmail" [(ngModel)]="email" />
            <mat-error *ngIf="formEmail.invalid">{{ getErrorMessage() }}</mat-error>
          </mat-form-field>
        </tr>
        <tr>
          <mat-form-field name="phoneno" appearance="fill">
            <mat-label>เบอร์โทร</mat-label>
            <input matInput mask="000-000-0000" type="tel" maxlength="13" [formControl]="formPhone" [(ngModel)]="phoneno" placeholder="09x-xxx-xxxx" required />
            <mat-error *ngIf="formPhone.invalid">{{ getErrorMessage() }}</mat-error>
          </mat-form-field>
        </tr>
    </div>
    <mat-divider></mat-divider>
    <div class="btn-group">
      <button mat-flat-button color="primary" class="btn login" [disabled]="form.invalid || formEmail.invalid || formPhone.invalid" (click)="pressLogin()">เข้าสู่ระบบ</button>
      <button mat-flat-button color="warn" class="btn cancel" (click)="pressCancel()">ยกเลิก</button>
    </div>
  </div>
</div>
